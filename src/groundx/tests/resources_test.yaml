suite: "resources render as expected"
chart:
  appVersion: 0.1.0
  version: 0.1.0

tests:
  - it: "default: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ../values.yaml
    asserts:
      - matchSnapshot: {}
  - it: "empty: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ./files/values.empty.yaml
    asserts:
      - matchSnapshot: {}
  - it: "aws: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ../values/values.aws.services.yaml
    asserts:
      - matchSnapshot: {}
  - it: "openshift: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ../values/openshift/values.yaml
    asserts:
      - matchSnapshot: {}
  - it: "minikube: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ../values/minikube/values.yaml
    asserts:
      - matchSnapshot: {}
  - it: "existing: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ../values/values.existing.yaml
    asserts:
      - matchSnapshot: {}
  - it: "metadata: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ./files/values.metadata.yaml
    asserts:
      - matchSnapshot: {}
  - it: "disabled: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ./files/values.disabled.yaml
    asserts:
      - matchSnapshot: {}
  - it: "extract: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ../values/extract/values.yaml
    asserts:
      - matchSnapshot: {}
  - it: "extract.ingest: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ./files/values.extract.ingest.yaml
    asserts:
      - matchSnapshot: {}
  - it: "extract.oai: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ../values/extract/values.oai.yaml
    asserts:
      - matchSnapshot: {}
  - it: "cloud: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ./files/values.cloud.yaml
    asserts:
      - matchSnapshot: {}
  - it: "phoenix: resources"
    templates:
      - ../templates/resources/config-models.yaml
      - ../templates/resources/config-yaml.yaml
      - ../templates/resources/extract-config-py.yaml
      - ../templates/resources/extract-gunicorn-conf-py.yaml
      - ../templates/resources/extract-supervisord-conf.yaml
      - ../templates/resources/layout-config-py.yaml
      - ../templates/resources/layout-gunicorn-conf-py.yaml
      - ../templates/resources/layout-ocr-credentials.yaml
      - ../templates/resources/layout-supervisord-conf.yaml
      - ../templates/resources/ldconfig-symlink.yaml
      - ../templates/resources/ranker-config-py.yaml
      - ../templates/resources/ranker-gunicorn-conf-py.yaml
      - ../templates/resources/ranker-supervisord-conf.yaml
      - ../templates/resources/secret.yaml
      - ../templates/resources/summary-config-py.yaml
      - ../templates/resources/summary-gunicorn-conf-py.yaml
      - ../templates/resources/summary-supervisord-conf.yaml
    values:
      - ./files/values.phoenix.yaml
    asserts:
      - matchSnapshot: {}

