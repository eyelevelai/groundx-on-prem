'aws: api':
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: layout-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: layout-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: layout-api
      template:
        metadata:
          annotations:
            config-hash: 0e62c00d3b122115c882493823cdaa38d82aed94891faac8b29b80d6b1a32960
            gunicorn-conf-hash: 4f846d74ead22c202a0dd1f27013148a62ca125c7816138dcd2459a45378dc07
          labels:
            app: layout-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: layout-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z X.X.X.use2.cache.amazonaws.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          serviceAccountName: existing-service-account
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: layout-config-py-map
              name: config-volume
            - configMap:
                name: layout-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  2: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: layout-api
      name: layout-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: layout-api
      type: ClusterIP
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: ranker-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: ranker-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: ranker-api
      template:
        metadata:
          annotations:
            config-hash: b0c8193aca6eccd6282f680fa67313a44dd0ac24a73ea84906276482bde9c15e
            gunicorn-conf-hash: 40212089ebd02f566a0389e71802a4a65d4e823233d849e37148efd96b4b69b3
          labels:
            app: ranker-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: ranker-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 128Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z X.X.X.use2.cache.amazonaws.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          serviceAccountName: existing-service-account
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: ranker-config-py-map
              name: config-volume
            - configMap:
                name: ranker-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  4: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: ranker-api
      name: ranker-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: ranker-api
      type: ClusterIP
  5: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: summary-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: summary-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: summary-api
      template:
        metadata:
          annotations:
            config-hash: 17ef124814867fcbb6212c1851edc76e6acdb7802e42c7fef134a2fb6f3ec938
            gunicorn-conf-hash: e5a1c91402abbc045a4e9ec98b0be0ee20d414d185078940fda640ee5a7d4180
          labels:
            app: summary-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: summary-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z X.X.X.use2.cache.amazonaws.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          serviceAccountName: existing-service-account
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: summary-config-py-map
              name: config-volume
            - configMap:
                name: summary-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  6: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: summary-api
      name: summary-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: summary-api
      type: ClusterIP
'cloud: api':
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: extract-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: extract-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: extract-api
      template:
        metadata:
          annotations:
            config-hash: 330fc39b12ddba09303c6f5f10210ab18dc2a90bbe9a5a867bcdaad4428deaad
            gunicorn-conf-hash: 0b508950537af16f918cc8ca6bdffca604b10a37474c196be4f66081ecc3140b
          labels:
            app: extract-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              envFrom:
                - secretRef:
                    name: extract-agent-secret
                - secretRef:
                    name: extract-save-secret
              image: public.ecr.aws/c9r4x6y5/eyelevel/extract:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: extract-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
            - command:
                - sh
                - -c
                - until wget --spider -q http://groundx.eyelevel.svc.cluster.local/health; do echo waiting for callback; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-callback
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: extract-config-py-map
              name: config-volume
            - configMap:
                name: extract-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  2: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: extract-api
      name: extract-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: extract-api
      type: ClusterIP
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: layout-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: layout-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: layout-api
      template:
        metadata:
          annotations:
            config-hash: 049c37fdbe18201176cad7589519f0abedd3f900a382056ce812fbb34445447f
            gunicorn-conf-hash: 4f846d74ead22c202a0dd1f27013148a62ca125c7816138dcd2459a45378dc07
          labels:
            app: layout-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: layout-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: layout-config-py-map
              name: config-volume
            - configMap:
                name: layout-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  4: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: layout-api
      name: layout-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: layout-api
      type: ClusterIP
  5: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: ranker-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: ranker-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: ranker-api
      template:
        metadata:
          annotations:
            config-hash: 10a2c3714245d327a2110a7f94d5a48581c81788dfb36f046ef6276be59e0061
            gunicorn-conf-hash: 40212089ebd02f566a0389e71802a4a65d4e823233d849e37148efd96b4b69b3
          labels:
            app: ranker-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: ranker-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 128Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: ranker-config-py-map
              name: config-volume
            - configMap:
                name: ranker-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  6: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: ranker-api
      name: ranker-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: ranker-api
      type: ClusterIP
  7: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: summary-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: summary-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: summary-api
      template:
        metadata:
          annotations:
            config-hash: 9b550f83fe615008fd7a3bd4fb324f3a3b8607943a72f3da1da21a0b31921ebc
            gunicorn-conf-hash: e5a1c91402abbc045a4e9ec98b0be0ee20d414d185078940fda640ee5a7d4180
          labels:
            app: summary-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: summary-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: summary-config-py-map
              name: config-volume
            - configMap:
                name: summary-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  8: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: summary-api
      name: summary-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: summary-api
      type: ClusterIP
'default: api':
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: layout-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: layout-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: layout-api
      template:
        metadata:
          annotations:
            config-hash: d2f8a61a500bc77e4c1e128cb58c29295ae9d683661b44342c038609ac387352
            gunicorn-conf-hash: 4f846d74ead22c202a0dd1f27013148a62ca125c7816138dcd2459a45378dc07
          labels:
            app: layout-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: layout-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: layout-config-py-map
              name: config-volume
            - configMap:
                name: layout-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  2: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: layout-api
      name: layout-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: layout-api
      type: ClusterIP
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: ranker-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: ranker-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: ranker-api
      template:
        metadata:
          annotations:
            config-hash: d09038b15d81b45a3c91b675dba9421905acbd940eca1349b6af31098c98c043
            gunicorn-conf-hash: 40212089ebd02f566a0389e71802a4a65d4e823233d849e37148efd96b4b69b3
          labels:
            app: ranker-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: ranker-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 128Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: ranker-config-py-map
              name: config-volume
            - configMap:
                name: ranker-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  4: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: ranker-api
      name: ranker-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: ranker-api
      type: ClusterIP
  5: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: summary-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: summary-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: summary-api
      template:
        metadata:
          annotations:
            config-hash: 98ce5b024876419328628261ed1d43fb288560dba6cfc74a959b79cf197491ab
            gunicorn-conf-hash: e5a1c91402abbc045a4e9ec98b0be0ee20d414d185078940fda640ee5a7d4180
          labels:
            app: summary-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: summary-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: summary-config-py-map
              name: config-volume
            - configMap:
                name: summary-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  6: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: summary-api
      name: summary-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: summary-api
      type: ClusterIP
'disabled: api':
'empty: api':
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: layout-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: layout-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: layout-api
      template:
        metadata:
          annotations:
            config-hash: d2f8a61a500bc77e4c1e128cb58c29295ae9d683661b44342c038609ac387352
            gunicorn-conf-hash: 4f846d74ead22c202a0dd1f27013148a62ca125c7816138dcd2459a45378dc07
          labels:
            app: layout-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: layout-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: layout-config-py-map
              name: config-volume
            - configMap:
                name: layout-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  2: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: layout-api
      name: layout-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: layout-api
      type: ClusterIP
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: ranker-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: ranker-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: ranker-api
      template:
        metadata:
          annotations:
            config-hash: d09038b15d81b45a3c91b675dba9421905acbd940eca1349b6af31098c98c043
            gunicorn-conf-hash: 40212089ebd02f566a0389e71802a4a65d4e823233d849e37148efd96b4b69b3
          labels:
            app: ranker-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: ranker-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 128Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: ranker-config-py-map
              name: config-volume
            - configMap:
                name: ranker-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  4: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: ranker-api
      name: ranker-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: ranker-api
      type: ClusterIP
  5: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: summary-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: summary-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: summary-api
      template:
        metadata:
          annotations:
            config-hash: 98ce5b024876419328628261ed1d43fb288560dba6cfc74a959b79cf197491ab
            gunicorn-conf-hash: e5a1c91402abbc045a4e9ec98b0be0ee20d414d185078940fda640ee5a7d4180
          labels:
            app: summary-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: summary-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: summary-config-py-map
              name: config-volume
            - configMap:
                name: summary-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  6: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: summary-api
      name: summary-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: summary-api
      type: ClusterIP
'existing: api':
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: layout-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: layout-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: layout-api
      template:
        metadata:
          annotations:
            config-hash: b06b20f2d0b0544c43eca2ac371f76b5837528a388f92d53a07c20e32c9a9d5b
            gunicorn-conf-hash: 4f846d74ead22c202a0dd1f27013148a62ca125c7816138dcd2459a45378dc07
          labels:
            app: layout-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: layout-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.existing.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: layout-config-py-map
              name: config-volume
            - configMap:
                name: layout-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  2: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: layout-api
      name: layout-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: layout-api
      type: ClusterIP
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: ranker-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: ranker-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: ranker-api
      template:
        metadata:
          annotations:
            config-hash: 8e63ebfea1c0f60ac40bef43a8944a14369538ba8bb0421a10a4a0be5a804b9e
            gunicorn-conf-hash: 40212089ebd02f566a0389e71802a4a65d4e823233d849e37148efd96b4b69b3
          labels:
            app: ranker-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: ranker-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 128Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.existing.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: ranker-config-py-map
              name: config-volume
            - configMap:
                name: ranker-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  4: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: ranker-api
      name: ranker-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: ranker-api
      type: ClusterIP
'extract.ingest: api':
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: extract-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: extract-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: extract-api
      template:
        metadata:
          annotations:
            config-hash: 480b3937590baedaca7671065676268ebd26413dcf203c4183e6203c6a3481e8
            gunicorn-conf-hash: 0b508950537af16f918cc8ca6bdffca604b10a37474c196be4f66081ecc3140b
          labels:
            app: extract-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              envFrom:
                - secretRef:
                    name: extract-agent-secret
                - secretRef:
                    name: extract-save-secret
              image: public.ecr.aws/c9r4x6y5/eyelevel/extract:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: extract-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z X.X.X.use2.cache.amazonaws.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
            - command:
                - sh
                - -c
                - until wget --spider -q http://groundx.eyelevel.svc.cluster.local/health; do echo waiting for callback; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-callback
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: extract-config-py-map
              name: config-volume
            - configMap:
                name: extract-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  2: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: extract-api
      name: extract-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: extract-api
      type: ClusterIP
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: layout-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: layout-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: layout-api
      template:
        metadata:
          annotations:
            config-hash: 5c76b67f2bc7e2de68d10d8d00ba8610e5397db2016a1ef5398f139b3f716062
            gunicorn-conf-hash: 4f846d74ead22c202a0dd1f27013148a62ca125c7816138dcd2459a45378dc07
          labels:
            app: layout-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: layout-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z X.X.X.use2.cache.amazonaws.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: layout-config-py-map
              name: config-volume
            - configMap:
                name: layout-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  4: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: layout-api
      name: layout-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: layout-api
      type: ClusterIP
  5: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: summary-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: summary-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: summary-api
      template:
        metadata:
          annotations:
            config-hash: e059715cac78edb91cf35e9d601b544d69549ff9efa79b4ca64efeb88b19f652
            gunicorn-conf-hash: e5a1c91402abbc045a4e9ec98b0be0ee20d414d185078940fda640ee5a7d4180
          labels:
            app: summary-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: summary-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z X.X.X.use2.cache.amazonaws.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: summary-config-py-map
              name: config-volume
            - configMap:
                name: summary-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  6: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: summary-api
      name: summary-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: summary-api
      type: ClusterIP
'extract.oai: api':
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: extract-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: extract-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: extract-api
      template:
        metadata:
          annotations:
            config-hash: a6f3a4adb20942c9ae339702dd091e2219a93695fdac7a77f97d2387f711cc6f
            gunicorn-conf-hash: 0b508950537af16f918cc8ca6bdffca604b10a37474c196be4f66081ecc3140b
          labels:
            app: extract-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              envFrom:
                - secretRef:
                    name: extract-save-secret
                - secretRef:
                    name: eyelevel-secret-credentials
              image: public.ecr.aws/c9r4x6y5/eyelevel/extract:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: extract-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z X.X.X.use2.cache.amazonaws.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
            - command:
                - sh
                - -c
                - until wget --spider -q http://groundx.eyelevel.svc.cluster.local/health; do echo waiting for callback; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-callback
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          serviceAccountName: existing-service-account
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: extract-config-py-map
              name: config-volume
            - configMap:
                name: extract-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  2: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: extract-api
      name: extract-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: extract-api
      type: ClusterIP
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: layout-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: layout-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: layout-api
      template:
        metadata:
          annotations:
            config-hash: cd27bb81927f5164f824cd11d7ddc53bf1ae2d7ca47d4608dfdd0eb9c5ad1637
            gunicorn-conf-hash: 4f846d74ead22c202a0dd1f27013148a62ca125c7816138dcd2459a45378dc07
          labels:
            app: layout-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              envFrom:
                - secretRef:
                    name: eyelevel-secret-credentials
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: layout-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z X.X.X.use2.cache.amazonaws.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          serviceAccountName: existing-service-account
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: layout-config-py-map
              name: config-volume
            - configMap:
                name: layout-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  4: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: layout-api
      name: layout-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: layout-api
      type: ClusterIP
'extract: api':
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: extract-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: extract-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: extract-api
      template:
        metadata:
          annotations:
            config-hash: cbb6f926136bb8397c0704c042af58ac68e06e6da392dba3a594dec4f8c8d892
            gunicorn-conf-hash: 0b508950537af16f918cc8ca6bdffca604b10a37474c196be4f66081ecc3140b
          labels:
            app: extract-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              envFrom:
                - secretRef:
                    name: extract-save-secret
                - secretRef:
                    name: eyelevel-secret-credentials
              image: public.ecr.aws/c9r4x6y5/eyelevel/extract:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: extract-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z X.X.X.use2.cache.amazonaws.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
            - command:
                - sh
                - -c
                - until wget --spider -q http://groundx.eyelevel.svc.cluster.local/health; do echo waiting for callback; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-callback
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          serviceAccountName: existing-service-account
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: extract-config-py-map
              name: config-volume
            - configMap:
                name: extract-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  2: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: extract-api
      name: extract-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: extract-api
      type: ClusterIP
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: layout-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: layout-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: layout-api
      template:
        metadata:
          annotations:
            config-hash: cd27bb81927f5164f824cd11d7ddc53bf1ae2d7ca47d4608dfdd0eb9c5ad1637
            gunicorn-conf-hash: 4f846d74ead22c202a0dd1f27013148a62ca125c7816138dcd2459a45378dc07
          labels:
            app: layout-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              envFrom:
                - secretRef:
                    name: eyelevel-secret-credentials
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: layout-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z X.X.X.use2.cache.amazonaws.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          serviceAccountName: existing-service-account
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: layout-config-py-map
              name: config-volume
            - configMap:
                name: layout-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  4: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: layout-api
      name: layout-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: layout-api
      type: ClusterIP
  5: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: summary-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: summary-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: summary-api
      template:
        metadata:
          annotations:
            config-hash: 4219e04ff7ea14faa1eb8b710e1d62388ae5cc16d802bb65bd902a646bdcbcb4
            gunicorn-conf-hash: e5a1c91402abbc045a4e9ec98b0be0ee20d414d185078940fda640ee5a7d4180
          labels:
            app: summary-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              envFrom:
                - secretRef:
                    name: eyelevel-secret-credentials
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: summary-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z X.X.X.use2.cache.amazonaws.com 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          serviceAccountName: existing-service-account
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: summary-config-py-map
              name: config-volume
            - configMap:
                name: summary-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  6: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: summary-api
      name: summary-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: summary-api
      type: ClusterIP
'metadata: api':
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: myapp-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: myapp-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: myapp-api
      template:
        metadata:
          annotations:
            config-hash: 24b8fbd2f36aa9f97623483c8c28954253e4d7a331f1ddf9bb0e9bd38d415521
            gunicorn-conf-hash: 83c12b1b7b62e11b58c3977068cad50ec59ee79a1f19eb1261da2490d219c23c
          labels:
            app: myapp-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8081
                initialDelaySeconds: 10
                periodSeconds: 30
              name: myapp-api
              ports:
                - containerPort: 8081
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8081
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z myapp.eyelevel.svc.cluster.local 8082; do echo waiting for cache; sleep 2; done
              image: test.image:v1
              imagePullPolicy: Always
              name: wait-for-cache
          nodeSelector:
            node: test-label-1
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          serviceAccountName: other-service-account
          tolerations:
            - effect: NoSchedule
              key: node
              value: test-label-1
          volumes:
            - configMap:
                name: myapp-config-py-map
              name: config-volume
            - configMap:
                name: myapp-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  2: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: myapp-api
      name: myapp-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8081
      selector:
        app: myapp-api
      type: ClusterIP
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: myapp-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: myapp-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: myapp-api
      template:
        metadata:
          annotations:
            config-hash: db12e6d22be007fc52ee601f6989646694bae2a985f615c39bcfef2d46258a3e
            gunicorn-conf-hash: a549b26517e32f7a8ffda2515b3c71d7e219de4734ba5efb1178364200945858
            prometheus.io/port: "8081"
          labels:
            app: myapp-api
            app.kubernetes.io/name: myapp
        spec:
          affinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              - labelSelector:
                  matchExpressions:
                    - key: app
                      operator: In
                      values:
                        - myapp
                topologyKey: kubernetes.io/hostname
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: test.image:v1
              imagePullPolicy: Never
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8081
                initialDelaySeconds: 10
                periodSeconds: 30
              name: myapp-api
              ports:
                - containerPort: 8081
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8081
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 128Mi
              securityContext:
                readOnlyRootFilesystem: true
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z myapp.eyelevel.svc.cluster.local 8082; do echo waiting for cache; sleep 2; done
              image: test.image:v1
              imagePullPolicy: Always
              name: wait-for-cache
          securityContext:
            fsGroup: 2000
          serviceAccountName: other-service-account
          tolerations:
            - effect: NoSchedule
              key: workload-type
              operator: Equal
              value: batch
          volumes:
            - configMap:
                name: myapp-config-py-map
              name: config-volume
            - configMap:
                name: myapp-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  4: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: myapp-api
      name: myapp-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8081
      selector:
        app: myapp-api
      type: ClusterIP
  5: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: myapp-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: myapp-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: myapp-api
      template:
        metadata:
          annotations:
            config-hash: 56c8f18fe0eff2755753436654dc07e20e637e6c2706f1c53014edcfd7ee498c
            gunicorn-conf-hash: 53cd8f931b746c1417345baed9c6a6b673f1f70836554d582f7040894bdeaa2b
            prometheus.io/port: "8081"
          labels:
            app: myapp-api
            app.kubernetes.io/name: myapp
        spec:
          affinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              - labelSelector:
                  matchExpressions:
                    - key: app
                      operator: In
                      values:
                        - myapp
                topologyKey: kubernetes.io/hostname
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: test.image:v1
              imagePullPolicy: Never
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8081
                initialDelaySeconds: 10
                periodSeconds: 30
              name: myapp-api
              ports:
                - containerPort: 8081
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8081
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                readOnlyRootFilesystem: true
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z myapp.eyelevel.svc.cluster.local 8082; do echo waiting for cache; sleep 2; done
              image: test.image:v1
              imagePullPolicy: Always
              name: wait-for-cache
          nodeSelector:
            disktype: ssd
          securityContext:
            fsGroup: 2000
          serviceAccountName: other-service-account
          volumes:
            - configMap:
                name: myapp-config-py-map
              name: config-volume
            - configMap:
                name: myapp-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  6: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: myapp-api
      name: myapp-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8081
      selector:
        app: myapp-api
      type: ClusterIP
'minikube: api':
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: layout-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: layout-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: layout-api
      template:
        metadata:
          annotations:
            config-hash: ebaefc6af0f1c9c3731fb790ce2235c0a0ed6224f8265c625fc8bb28f856298a
            gunicorn-conf-hash: 4f846d74ead22c202a0dd1f27013148a62ca125c7816138dcd2459a45378dc07
          labels:
            app: layout-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: layout-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: layout-config-py-map
              name: config-volume
            - configMap:
                name: layout-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  2: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: layout-api
      name: layout-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: layout-api
      type: ClusterIP
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: ranker-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: ranker-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: ranker-api
      template:
        metadata:
          annotations:
            config-hash: 10a2c3714245d327a2110a7f94d5a48581c81788dfb36f046ef6276be59e0061
            gunicorn-conf-hash: 40212089ebd02f566a0389e71802a4a65d4e823233d849e37148efd96b4b69b3
          labels:
            app: ranker-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: ranker-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 128Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: ranker-config-py-map
              name: config-volume
            - configMap:
                name: ranker-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  4: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: ranker-api
      name: ranker-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: ranker-api
      type: ClusterIP
  5: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: summary-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: summary-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: summary-api
      template:
        metadata:
          annotations:
            config-hash: 9b550f83fe615008fd7a3bd4fb324f3a3b8607943a72f3da1da21a0b31921ebc
            gunicorn-conf-hash: e5a1c91402abbc045a4e9ec98b0be0ee20d414d185078940fda640ee5a7d4180
          labels:
            app: summary-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: summary-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsGroup: 1001
                runAsNonRoot: true
                runAsUser: 1001
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            fsGroup: 1001
            fsGroupChangePolicy: OnRootMismatch
            runAsGroup: 1001
            runAsNonRoot: true
            runAsUser: 1001
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: summary-config-py-map
              name: config-volume
            - configMap:
                name: summary-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  6: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: summary-api
      name: summary-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: summary-api
      type: ClusterIP
'openshift: api':
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: layout-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: layout-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: layout-api
      template:
        metadata:
          annotations:
            config-hash: ebaefc6af0f1c9c3731fb790ce2235c0a0ed6224f8265c625fc8bb28f856298a
            gunicorn-conf-hash: 4f846d74ead22c202a0dd1f27013148a62ca125c7816138dcd2459a45378dc07
          labels:
            app: layout-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: layout-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsNonRoot: true
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            runAsNonRoot: true
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: layout-config-py-map
              name: config-volume
            - configMap:
                name: layout-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  2: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: layout-api
      name: layout-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: layout-api
      type: ClusterIP
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: ranker-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: ranker-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: ranker-api
      template:
        metadata:
          annotations:
            config-hash: 10a2c3714245d327a2110a7f94d5a48581c81788dfb36f046ef6276be59e0061
            gunicorn-conf-hash: 40212089ebd02f566a0389e71802a4a65d4e823233d849e37148efd96b4b69b3
          labels:
            app: ranker-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: ranker-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 128Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsNonRoot: true
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            runAsNonRoot: true
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: ranker-config-py-map
              name: config-volume
            - configMap:
                name: ranker-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  4: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: ranker-api
      name: ranker-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: ranker-api
      type: ClusterIP
  5: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: summary-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: summary-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: summary-api
      template:
        metadata:
          annotations:
            config-hash: 9b550f83fe615008fd7a3bd4fb324f3a3b8607943a72f3da1da21a0b31921ebc
            gunicorn-conf-hash: e5a1c91402abbc045a4e9ec98b0be0ee20d414d185078940fda640ee5a7d4180
          labels:
            app: summary-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: IfNotPresent
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: summary-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsNonRoot: true
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: IfNotPresent
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu-only
          securityContext:
            runAsNonRoot: true
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu-only
          volumes:
            - configMap:
                name: summary-config-py-map
              name: config-volume
            - configMap:
                name: summary-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  6: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: summary-api
      name: summary-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: summary-api
      type: ClusterIP
'phoenix: api':
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: extract-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: extract-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: extract-api
      template:
        metadata:
          annotations:
            config-hash: e82d82164b0c860e2a66d97220272037cfd488e78386da32f5ea32b618066f47
            gunicorn-conf-hash: 0b508950537af16f918cc8ca6bdffca604b10a37474c196be4f66081ecc3140b
          labels:
            app: extract-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              envFrom:
                - secretRef:
                    name: extract-agent-secret
                - secretRef:
                    name: extract-save-secret
              image: public.ecr.aws/c9r4x6y5/eyelevel/extract:0.1.0
              imagePullPolicy: Always
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: extract-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsNonRoot: true
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          imagePullSecrets:
            - name: ecr-public-pull
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: Always
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-cpu
          securityContext:
            runAsNonRoot: true
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-cpu
          volumes:
            - configMap:
                name: extract-config-py-map
              name: config-volume
            - configMap:
                name: extract-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  2: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: extract-api
      name: extract-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: extract-api
      type: ClusterIP
  3: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: layout-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: layout-api
      namespace: eyelevel
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: layout-api
      template:
        metadata:
          annotations:
            config-hash: 9cb086224bcbefcd195a92ba8c0903e63036900c20fb5797d656ce5dffe4bc0c
            gunicorn-conf-hash: 4f846d74ead22c202a0dd1f27013148a62ca125c7816138dcd2459a45378dc07
          labels:
            app: layout-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: Always
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: layout-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsNonRoot: true
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          imagePullSecrets:
            - name: ecr-public-pull
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: Always
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-gpu
          securityContext:
            runAsNonRoot: true
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-gpu
          volumes:
            - configMap:
                name: layout-config-py-map
              name: config-volume
            - configMap:
                name: layout-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  4: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: layout-api
      name: layout-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: layout-api
      type: ClusterIP
  5: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: ranker-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: ranker-api
      namespace: eyelevel
    spec:
      replicas: 2
      selector:
        matchLabels:
          app: ranker-api
      template:
        metadata:
          annotations:
            config-hash: 8c8d3d4f45d68a2a23457d8db11374d236b3e1b2f01730bbb2426421e92af4e5
            gunicorn-conf-hash: 40212089ebd02f566a0389e71802a4a65d4e823233d849e37148efd96b4b69b3
          labels:
            app: ranker-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: Always
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: ranker-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 128Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsNonRoot: true
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          imagePullSecrets:
            - name: ecr-public-pull
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: Always
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-gpu
          securityContext:
            runAsNonRoot: true
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-gpu
          volumes:
            - configMap:
                name: ranker-config-py-map
              name: config-volume
            - configMap:
                name: ranker-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  6: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: ranker-api
      name: ranker-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: ranker-api
      type: ClusterIP
  7: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: summary-api
        appVersion: 0.1.0
        chart: groundx-0.1.0
        heritage: Helm
        version: 0.1.0
      name: summary-api
      namespace: eyelevel
    spec:
      replicas: 7
      selector:
        matchLabels:
          app: summary-api
      template:
        metadata:
          annotations:
            config-hash: 1b1aead3ca98c3ddee0f7bd5b82db625856ebb4bd9fe5fe1cef654c9499d87fb
            gunicorn-conf-hash: e5a1c91402abbc045a4e9ec98b0be0ee20d414d185078940fda640ee5a7d4180
          labels:
            app: summary-api
        spec:
          containers:
            - command:
                - /bin/bash
                - -c
                - |
                  export PYTHONPATH=/app:$PYTHONPATH && LOCAL=0 gunicorn -c /app/gunicorn_conf.py --capture-output --enable-stdio-inheritance
              env:
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
              image: public.ecr.aws/c9r4x6y5/eyelevel/python-api:0.1.0
              imagePullPolicy: Always
              livenessProbe:
                failureThreshold: 12
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              name: summary-api
              ports:
                - containerPort: 8080
                  protocol: TCP
              readinessProbe:
                httpGet:
                  path: /health
                  port: 8080
                initialDelaySeconds: 10
                periodSeconds: 30
              resources:
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                allowPrivilegeEscalation: false
                capabilities:
                  drop:
                    - ALL
                runAsNonRoot: true
                seccompProfile:
                  type: RuntimeDefault
              volumeMounts:
                - mountPath: /app/config.py
                  name: config-volume
                  subPath: config.py
                - mountPath: /app/gunicorn_conf.py
                  name: gunicorn-conf-volume
                  subPath: gunicorn_conf.py
              workingDir: /app
          imagePullSecrets:
            - name: ecr-public-pull
          initContainers:
            - command:
                - sh
                - -c
                - until nc -z cache.eyelevel.svc.cluster.local 6379; do echo waiting for cache; sleep 2; done
              image: public.ecr.aws/c9r4x6y5/eyelevel/busybox:1.0.0
              imagePullPolicy: Always
              name: wait-for-cache
          nodeSelector:
            node: eyelevel-gpu
          securityContext:
            runAsNonRoot: true
            seccompProfile:
              type: RuntimeDefault
          tolerations:
            - effect: NoSchedule
              key: node
              value: eyelevel-gpu
          volumes:
            - configMap:
                name: summary-config-py-map
              name: config-volume
            - configMap:
                name: summary-gunicorn-conf-py-map
              name: gunicorn-conf-volume
  8: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app: summary-api
      name: summary-api
      namespace: eyelevel
    spec:
      ports:
        - port: 80
          protocol: TCP
          targetPort: 8080
      selector:
        app: summary-api
      type: ClusterIP
